const ComponentConfig={paths:{header:"components/header.html",footer:"components/footer.html",metaTags:"components/meta-tags.html"},placeholders:{header:"header-placeholder",footer:"footer-placeholder",metaTags:"meta-tags-placeholder"},fallbacks:{header:'<header class="error-header"><div class="container"><a href="/" class="logo">AI Reality Check</a></div></header>',footer:'<footer class="error-footer"><div class="container"><p>&copy; 2025 AI Reality Check</p></div></footer>',metaTags:`\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <title>AI Reality Check</title>\n            <meta name="description" content="AI Reality Check - Practical AI solutions for business">\n            <link rel="preconnect" href="https://fonts.googleapis.com">\n            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n            <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">\n        `},defaultThemeClass:"theme-auto"};document.addEventListener("DOMContentLoaded",()=>{ensureThemeClass();let totalComponents=0;const headerPlaceholder=document.getElementById(ComponentConfig.placeholders.header);const footerPlaceholder=document.getElementById(ComponentConfig.placeholders.footer);const metaTagsPlaceholder=document.getElementById(ComponentConfig.placeholders.metaTags);if(headerPlaceholder){totalComponents++}if(footerPlaceholder){totalComponents++}if(metaTagsPlaceholder){totalComponents++}window.componentLoadingStatus={total:totalComponents,loaded:0,failed:0,errors:[]};if(metaTagsPlaceholder){loadComponent(ComponentConfig.placeholders.metaTags,ComponentConfig.paths.metaTags,ComponentConfig.fallbacks.metaTags)}else{ensureStylesLoaded()}if(headerPlaceholder){setTimeout(()=>{loadComponent(ComponentConfig.placeholders.header,ComponentConfig.paths.header,ComponentConfig.fallbacks.header)},10)}if(footerPlaceholder){setTimeout(()=>{loadComponent(ComponentConfig.placeholders.footer,ComponentConfig.paths.footer,ComponentConfig.fallbacks.footer)},20)}});function ensureThemeClass(){const htmlElement=document.documentElement;const savedTheme=localStorage.getItem("theme")||"auto";htmlElement.classList.remove("theme-auto","theme-light","theme-dark");htmlElement.classList.add(`theme-${savedTheme}`)}function ensureStylesLoaded(){const isStyleLoaded=Array.from(document.styleSheets).some(sheet=>{try{return sheet.href&&(sheet.href.includes("/style.min.css")||sheet.href.includes("/style.css"))}catch(e){return false}});if(!isStyleLoaded){console.warn("No stylesheet detected, adding emergency style links");if(!document.querySelector('link[href*="fonts.googleapis.com/css"]')){const fontLink=document.createElement("link");fontLink.rel="stylesheet";fontLink.href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap";document.head.appendChild(fontLink)}const cssLink=document.createElement("link");cssLink.rel="stylesheet";const pathSegments=window.location.pathname.split("/").filter(s=>s.length>0);let cssPath;if(pathSegments.length===0){cssPath="./css/style.min.css"}else if(pathSegments.length===1&&pathSegments[0].endsWith(".html")){cssPath="./css/style.min.css"}else{let depth=pathSegments.length;if(pathSegments[pathSegments.length-1].endsWith(".html")){depth--}cssPath="";for(let i=0;i<depth;i++){cssPath+="../"}cssPath+="css/style.min.css"}cssLink.href=cssPath;document.head.appendChild(cssLink)}}function loadComponent(placeholderId,componentPath,fallbackHtml){const placeholder=document.getElementById(placeholderId);if(!placeholder){logComponentError("Placeholder not found",placeholderId,componentPath);return}placeholder.innerHTML='<div class="component-loading">Loading component...</div>';const rootPath=getPathToRoot();const fullPath=rootPath+componentPath;const timeoutDuration=5e3;const timeout=setTimeout(()=>{handleComponentError(new Error(`Timeout loading component: ${componentPath}`),placeholder,fallbackHtml,placeholderId,componentPath)},timeoutDuration);fetch(fullPath).then(response=>{clearTimeout(timeout);if(!response.ok){throw new Error(`Failed to load component: ${response.status} ${response.statusText}`)}return response.text()}).then(html=>{const currentPath=window.location.pathname;const pageTitle=window.PAGE_TITLE||document.title||"AI Reality Check";const pageDescription=window.PAGE_DESCRIPTION||document.querySelector('meta[name="description"]')?.content||"AI Reality Check - Practical AI solutions for business";const relPath=window.REL_PATH||rootPath||"./";const canonicalPath=window.CANONICAL_PATH||currentPath||"/";html=html.replace(/\{\{PAGE_TITLE\}\}/g,pageTitle);html=html.replace(/\{\{PAGE_DESCRIPTION\}\}/g,pageDescription);html=html.replace(/\{\{REL_PATH\}\}/g,relPath);html=html.replace(/\{\{CANONICAL_PATH\}\}/g,canonicalPath);placeholder.innerHTML=html;window.componentLoadingStatus.loaded++;if(placeholderId===ComponentConfig.placeholders.header){if(typeof window.initMobileNav==="function"){try{window.initMobileNav()}catch(error){console.warn("Error initializing mobile navigation:",error)}}if(typeof window.highlightCurrentPage==="function"){try{window.highlightCurrentPage()}catch(error){console.warn("Error highlighting current page:",error)}}}}).catch(error=>{clearTimeout(timeout);handleComponentError(error,placeholder,fallbackHtml,placeholderId,componentPath)})}function handleComponentError(error,placeholder,fallbackHtml,placeholderId,componentPath){logComponentError(error.message,placeholderId,componentPath);window.componentLoadingStatus.failed++;window.componentLoadingStatus.errors.push({component:placeholderId,path:componentPath,error:error.message});if(fallbackHtml&&placeholder){placeholder.innerHTML=fallbackHtml}else if(placeholder){placeholder.innerHTML=`\n      <div class="component-error">\n        <p>Content temporarily unavailable</p>\n        <button onclick="location.reload()" style="padding: 8px 16px; margin-top: 8px; border: 1px solid #ccc; background: #f5f5f5; cursor: pointer; border-radius: 4px;">\n          Retry\n        </button>\n      </div>\n    `}document.body.classList.add("component-load-error")}function logComponentError(message,placeholderId,componentPath){console.error(`Component Error [${placeholderId}]: ${message}`,`\nComponent Path: ${componentPath}`,`\nPage URL: ${window.location.href}`)}function getPathToRoot(){let path=window.location.pathname;path=path.split("?")[0].split("#")[0];path=path.replace(/\\/g,"/").replace(/\/+/g,"/");if(path.endsWith("/")&&path.length>1){path=path.slice(0,-1)}const segments=path.split("/").filter(segment=>segment.length>0);if(segments.length===0){return""}if(segments.length===1&&segments[0].endsWith(".html")){return""}let depth=0;for(let i=0;i<segments.length;i++){const segment=segments[i];if(!segment.endsWith(".html")){depth++}}if(segments.length>0&&segments[segments.length-1].endsWith(".html")){}let rootPath="";for(let i=0;i<depth;i++){rootPath+="../"}if(depth>5){console.warn("Unusual path depth detected, using root-relative path");return"/"}return rootPath}