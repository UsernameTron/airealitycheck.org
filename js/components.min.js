const ComponentConfig={paths:{header:"components/header.html",footer:"components/footer.html",metaTags:"components/meta-tags.html"},placeholders:{header:"header-placeholder",footer:"footer-placeholder",metaTags:"meta-tags-placeholder"},fallbacks:{header:'<header class="error-header"><div class="container"><a href="/" class="logo">AI Reality Check</a></div></header>',footer:'<footer class="error-footer"><div class="container"><p>&copy; 2025 AI Reality Check</p></div></footer>',metaTags:'\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <title>AI Reality Check</title>\n            <meta name="description" content="AI Reality Check - Practical AI solutions for business">\n            <link rel="preconnect" href="https://fonts.googleapis.com">\n            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n            <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">\n        '},defaultThemeClass:"theme-auto"};function ensureThemeClass(){const e=document.documentElement,t=localStorage.getItem("theme")||"auto";e.classList.remove("theme-auto","theme-light","theme-dark"),e.classList.add(`theme-${t}`)}function ensureStylesLoaded(){if(!Array.from(document.styleSheets).some(e=>{try{return e.href&&(e.href.includes("/style.min.css")||e.href.includes("/style.css"))}catch(e){return!1}})){if(console.warn("No stylesheet detected, adding emergency style links"),!document.querySelector('link[href*="fonts.googleapis.com/css"]')){const e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap",document.head.appendChild(e)}const e=document.createElement("link");e.rel="stylesheet";const t=window.location.pathname.split("/").filter(e=>e.length>0);let o;if(0===t.length)o="./css/style.min.css";else if(1===t.length&&t[0].endsWith(".html"))o="./css/style.min.css";else{let e=t.length;t[t.length-1].endsWith(".html")&&e--,o="";for(let t=0;t<e;t++)o+="../";o+="css/style.min.css"}e.href=o,document.head.appendChild(e)}}function loadComponent(e,t,o){const n=document.getElementById(e);if(!n)return void logComponentError("Placeholder not found",e,t);n.innerHTML='<div class="component-loading">Loading component...</div>';const a=getPathToRoot(),l=a+t,r=setTimeout(()=>{handleComponentError(new Error(`Timeout loading component: ${t}`),n,o,e,t)},5e3);fetch(l).then(e=>{if(clearTimeout(r),!e.ok)throw new Error(`Failed to load component: ${e.status} ${e.statusText}`);return e.text()}).then(t=>{const o=window.location.pathname,l=window.PAGE_TITLE||document.title||"AI Reality Check",r=window.PAGE_DESCRIPTION||document.querySelector('meta[name="description"]')?.content||"AI Reality Check - Practical AI solutions for business",s=window.REL_PATH||a||"./",i=window.CANONICAL_PATH||o||"/";if(t=(t=(t=(t=t.replace(/\{\{PAGE_TITLE\}\}/g,l)).replace(/\{\{PAGE_DESCRIPTION\}\}/g,r)).replace(/\{\{REL_PATH\}\}/g,s)).replace(/\{\{CANONICAL_PATH\}\}/g,i),n.innerHTML=t,window.componentLoadingStatus.loaded++,e===ComponentConfig.placeholders.header){if("function"==typeof window.initMobileNav)try{window.initMobileNav()}catch(e){console.warn("Error initializing mobile navigation:",e)}if("function"==typeof window.highlightCurrentPage)try{window.highlightCurrentPage()}catch(e){console.warn("Error highlighting current page:",e)}}}).catch(a=>{clearTimeout(r),handleComponentError(a,n,o,e,t)})}function handleComponentError(e,t,o,n,a){logComponentError(e.message,n,a),window.componentLoadingStatus.failed++,window.componentLoadingStatus.errors.push({component:n,path:a,error:e.message}),o&&t?t.innerHTML=o:t&&(t.innerHTML='\n      <div class="component-error">\n        <p>Content temporarily unavailable</p>\n        <button onclick="location.reload()" style="padding: 8px 16px; margin-top: 8px; border: 1px solid #ccc; background: #f5f5f5; cursor: pointer; border-radius: 4px;">\n          Retry\n        </button>\n      </div>\n    '),document.body.classList.add("component-load-error")}function logComponentError(e,t,o){console.error(`Component Error [${t}]: ${e}`,`\nComponent Path: ${o}`,`\nPage URL: ${window.location.href}`)}function getPathToRoot(){let e=window.location.pathname;e=e.split("?")[0].split("#")[0],e=e.replace(/\\/g,"/").replace(/\/+/g,"/"),e.endsWith("/")&&e.length>1&&(e=e.slice(0,-1));const t=e.split("/").filter(e=>e.length>0);if(0===t.length)return"";if(1===t.length&&t[0].endsWith(".html"))return"";let o=0;for(let e=0;e<t.length;e++){t[e].endsWith(".html")||o++}t.length>0&&t[t.length-1].endsWith(".html");let n="";for(let e=0;e<o;e++)n+="../";return o>5?(console.warn("Unusual path depth detected, using root-relative path"),"/"):n}document.addEventListener("DOMContentLoaded",()=>{ensureThemeClass();let e=0;const t=document.getElementById(ComponentConfig.placeholders.header),o=document.getElementById(ComponentConfig.placeholders.footer),n=document.getElementById(ComponentConfig.placeholders.metaTags);t&&e++,o&&e++,n&&e++,window.componentLoadingStatus={total:e,loaded:0,failed:0,errors:[]},n?loadComponent(ComponentConfig.placeholders.metaTags,ComponentConfig.paths.metaTags,ComponentConfig.fallbacks.metaTags):ensureStylesLoaded(),t&&setTimeout(()=>{loadComponent(ComponentConfig.placeholders.header,ComponentConfig.paths.header,ComponentConfig.fallbacks.header)},10),o&&setTimeout(()=>{loadComponent(ComponentConfig.placeholders.footer,ComponentConfig.paths.footer,ComponentConfig.fallbacks.footer)},20)});