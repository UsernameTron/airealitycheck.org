document.addEventListener("DOMContentLoaded",function(){highlightCurrentPage(),initMobileNav(),initSmoothScroll()});function highlightCurrentPage(){const e=window.location.pathname;document.querySelectorAll("nav a").forEach(t=>{const n=t.getAttribute("href");e.endsWith(n)&&t.classList.add("active")})}function initMobileNav(){if(!document.querySelector(".mobile-nav-toggle")){const e=document.querySelector("header .container");if(!e)return;const t=document.querySelector("header nav");if(!t)return;const n=document.createElement("button");n.className="mobile-nav-toggle",n.setAttribute("aria-label","Toggle navigation menu"),n.innerHTML='\n            <span class="bar"></span>\n            <span class="bar"></span>\n            <span class="bar"></span>\n        ',e.insertBefore(n,t),n.addEventListener("click",function(){this.classList.toggle("active"),t.classList.toggle("active");const e=this.classList.contains("active");this.setAttribute("aria-expanded",e)}),document.addEventListener("click",function(e){t.contains(e.target)||n.contains(e.target)||!t.classList.contains("active")||(n.classList.remove("active"),t.classList.remove("active"),n.setAttribute("aria-expanded","false"))})}}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),n=document.querySelector(t);if(n){const e=document.querySelector("header").offsetHeight,a=n.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:a,behavior:"smooth"}),history.pushState(null,null,t)}})})}