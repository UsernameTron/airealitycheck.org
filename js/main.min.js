function initSmoothScroll(){document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),s=document.querySelector(t);if(s){const e=document.querySelector("header").offsetHeight,i=s.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:i,behavior:"smooth"}),history.pushState(null,null,t)}})})}function initThemeToggle(){const e=document.documentElement,t=document.querySelector(".theme-toggle");if(!t)return;const s=t.querySelector(".light-icon"),i=t.querySelector(".dark-icon"),a=t.querySelector(".auto-icon");if(!s||!i)return void console.warn("Theme toggle icons (light, dark) not found");function o(e){t.setAttribute("aria-pressed","dark"===e),t.setAttribute("aria-label",`Switch theme (current: ${e})`),"dark"===e?(t.setAttribute("aria-pressed","true"),s.style.display="none",i.style.display="block"):(t.setAttribute("aria-pressed","false"),s.style.display="block",i.style.display="none"),a&&(a.style.display="auto"===e?"block":"none")}const n=localStorage.getItem("theme")||"auto";e.classList.remove("theme-auto","theme-light","theme-dark"),e.classList.add(`theme-${n}`),o(n),t.addEventListener("click",()=>{const t=(Array.from(e.classList).find(e=>e.startsWith("theme-"))||"theme-auto").replace("theme-","");let s;var i;s=a?"auto"===t?"light":"light"===t?"dark":"auto":"light"===t?"dark":"light",i=s,e.classList.remove("theme-auto","theme-light","theme-dark"),e.classList.add(`theme-${i}`),localStorage.setItem("theme",i),o(i),document.dispatchEvent(new CustomEvent("themechange",{detail:{theme:i}}))});window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{"auto"===localStorage.getItem("theme")&&o("auto")})}function initParallaxHero(){const e=document.querySelectorAll(".home-hero, .case-studies-hero, .portfolio-hero, .articles-hero");window.innerWidth>768&&window.addEventListener("scroll",()=>{const t=window.pageYOffset;e.forEach(e=>{const s=-.5*t;e.style.transform=`translateY(${s}px)`})},{passive:!0})}window.highlightCurrentPage=function(){const e=window.location.pathname;document.querySelectorAll("nav a").forEach(t=>{const s=t.getAttribute("href");e.endsWith(s)&&t.classList.add("active")})},window.initMobileNav=function(){if(document.querySelector(".mobile-nav-toggle")){const e=document.querySelector(".mobile-nav-toggle"),t=document.querySelector("header nav");return void(e&&t&&(e.addEventListener("click",function(){this.classList.toggle("active"),t.classList.toggle("active");const e=this.classList.contains("active");this.setAttribute("aria-expanded",e)}),document.addEventListener("click",s=>{t.contains(s.target)||e.contains(s.target)||t.classList.contains("active")&&(e.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false"))})))}const e=document.querySelector("header .container");if(e){const t=document.querySelector("header nav");if(t){const s=document.createElement("button");s.className="mobile-nav-toggle",s.setAttribute("aria-label","Toggle navigation menu"),s.innerHTML='\n                <span class="bar"></span>\n                <span class="bar"></span>\n                <span class="bar"></span>\n            ',e.insertBefore(s,t),s.addEventListener("click",function(){this.classList.toggle("active"),t.classList.toggle("active");const e=this.classList.contains("active");this.setAttribute("aria-expanded",e)}),document.addEventListener("click",e=>{t.contains(e.target)||s.contains(e.target)||t.classList.contains("active")&&(s.classList.remove("active"),t.classList.remove("active"),s.setAttribute("aria-expanded","false"))})}}};class ProgressiveImage{constructor(e){this.element=e,this.img=e.querySelector("img"),this.src=this.img.dataset.src,this.placeholder=this.img.src,this.load()}load(){const e=new Image;e.src=this.src,e.onload=()=>{this.img.src=this.src,this.img.classList.add("loaded")}}}function initProgressiveImages(){document.querySelectorAll(".progressive-image").forEach(e=>{new ProgressiveImage(e)})}document.addEventListener("DOMContentLoaded",()=>{window.highlightCurrentPage(),initSmoothScroll(),initThemeToggle(),initParallaxHero(),initProgressiveImages()});